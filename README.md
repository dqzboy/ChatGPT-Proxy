<div align="center">
<br>
  <p align="center">
  <img src="https://user-images.githubusercontent.com/42825450/233398049-0456e5f8-c36e-42fa-a933-2fb640bdf714.png" width="150px" height="150px">
  </p>

[![Typing SVG](https://readme-typing-svg.herokuapp.com?font=Handlee&center=true&vCenter=true&width=500&height=60&lines=This+is+chat+gpt+proxy+service.)](https://git.io/typing-svg)

<img src="https://camo.githubusercontent.com/82291b0fe831bfc6781e07fc5090cbd0a8b912bb8b8d4fec0696c881834f81ac/68747470733a2f2f70726f626f742e6d656469612f394575424971676170492e676966"
width="1800"  height="3">

</div>


# ä¸ºå•¥éœ€è¦è‡ªå»ºChatGPTåä»£æœåŠ¡
OpenAIæä¾›äº†ä¸¤ç§è®¿é—®æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥åœ¨ChatGPTç½‘é¡µç«¯ä½¿ç”¨çš„Access Tokenæ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥å…è´¹ä½¿ç”¨GPT-3.5æ¨¡å‹ï¼Œåªéœ€è¦ç™»å½•å³å¯ä½¿ç”¨ã€‚ä½†ç¼ºç‚¹æ˜¯ä¸ç¨³å®šï¼Œä¸”æ— æ³•æ‰©å±•ã€‚å¦ä¸€ç§æ˜¯ä½¿ç”¨APIï¼Œæ³¨å†Œç”¨æˆ·å¯ä»¥è·å¾—5ç¾å…ƒçš„èµ é€é¢åº¦ï¼Œä½†ä½¿ç”¨å®Œä¹‹åå°±éœ€è¦ä»˜è´¹ã€‚è¿™ç§æ–¹å¼ç›¸å¯¹æ›´ç¨³å®šï¼Œä½†ç¼ºç‚¹æ˜¯èµ é€é¢åº¦è¾ƒå°‘ä¸”å­˜åœ¨é™æµï¼Œç›®å‰æ˜¯3æ¡/åˆ†é’Ÿã€‚

å› æ­¤ï¼Œå¯¹äºé‚£äº›å¸Œæœ›å…è´¹ä½¿ç”¨OpenAI GPT-3.5æ¨¡å‹çš„ç”¨æˆ·æ¥è¯´ï¼Œé€‰æ‹©Access Tokenæ–¹å¼æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ä¸ç¨³å®šä»¥åŠå¯èƒ½IPè¢«å°ç¦çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå»ºåå‘ä»£ç†æœåŠ¡æ¥æé«˜ç¨³å®šæ€§ï¼Œå¹¶ä¿æŠ¤æˆ‘ä»¬çš„IPåœ°å€ä¸è¢«OpenAIå°ç¦ã€‚ä¹Ÿæœ‰ä¸€äº›å…¬å…±çš„åå‘ä»£ç†æœåŠ¡å¯ä»¥é€‰æ‹©ä½¿ç”¨ï¼Œä½†æ˜¯å¾ˆä¸ç¨³å®šï¼Œå› ä¸ºå®ƒä»¬æ˜¯å…è´¹å…±äº«çš„ã€‚æ‰€ä»¥è‡ªå»ºåå‘ä»£ç†æœåŠ¡æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©

> å¦‚æœéƒ¨ç½²æˆ–è€…é…ç½®è¿‡ç¨‹å‡ºç°é—®é¢˜æˆ–ä¸æ‡‚çš„åœ°æ–¹ï¼Œè¯·å…ˆæœç´¢å†å²[issue](https://github.com/dqzboy/ChatGPT-Proxy/issues)æˆ–è€…åŠ [TGäº¤æµç¾¤](https://t.me/+ghs_XDp1vwxkMGU9)

|:octocat:æœºåœºæ¨è|:link:é“¾æ¥| :pushpin:æœºåœºæ¦‚å†µ
|--|--|--|
|:white_check_mark:é­”æˆ’|[:link:å®˜ç½‘](https://mojie.me/#/register?code=CG6h8Irm)|æŒ‰é‡ä¸é™æ—¶ã€ä¸é™é€Ÿã€ä¸é™è®¾å¤‡ï¼Œè§£é”ChatGPT
|:white_check_mark:Teacat|[:link:å®˜ç½‘](https://teacat2.com/#/register?code=ps4sZcDa)|æŒ‰å‘¨æœŸã€ä¸é™é€Ÿã€ä¸é™è®¾å¤‡ã€IEPLä¸“çº¿ï¼Œè§£é”ChatGPT
|:white_check_mark:å…«æˆ’|[:link:å®˜ç½‘](https://bajie.one/#/register?code=uX4zUk5c)|æŒ‰é‡ä¸é™æ—¶ã€IEPLä¸“çº¿ã€ä¸é™é€Ÿã€ä¸é™è®¾å¤‡ã€ä½å»¶è¿Ÿï¼Œé«˜ç½‘é€Ÿï¼Œè§£é”ChatGPT|

# ChatGPT-Porxyä¸€é”®éƒ¨ç½²
> **å¦‚æœè‡ªå·±å®‰è£…è§‰å¾—éº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘æä¾›çš„ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼** è„šæœ¬ç›®å‰å·²å®ç°åŸºç¡€ç¯å¢ƒå®‰è£…ã€æ‰€éœ€ç»„ä»¶ä¾èµ–éƒ¨ç½²ã€é•œåƒç‰ˆæœ¬è‡ªåŠ¨æ›´æ–°ã€403|401|429ã€ERRORæ£€æµ‹é‚®ç®±å‘Šè­¦ã€uptime-kumaç›‘æ§ç­‰åŠŸèƒ½ï¼è„šæœ¬æ”¯æŒarmæ¶æ„ä¸€é”®éƒ¨ç½²ï¼Œä½†æ˜¯æ³¨æ„ warp ä¸æ”¯æŒarmæ¶æ„ï¼

ğŸ”” **è¯´æ˜**ï¼šç›®å‰è„šæœ¬é€‚ç”¨äºCentOS 7\8\9ã€RHEL-8\9ã€Ubuntuã€debianä»¥åŠopencloudosç³»ç»Ÿï¼›è¿è¡Œè„šæœ¬éœ€è¦ç¡®ä¿ç½‘ç»œç¯å¢ƒç¨³å®š(ç¡®ä¿ç³»ç»Ÿæ‰€éœ€ç»„ä»¶å¯ä»¥æ­£å¸¸ä¸‹è½½)ã€‚ <br>
âš ï¸ **æç¤º**ï¼šç›®å‰è„šæœ¬æ”¯æŒ[linweiyuan/go-chatgpt-api](https://github.com/linweiyuan/go-chatgpt-api) å’Œ [gngpp/ninja](https://github.com/gngpp/ninja) é¡¹ç›®çš„ä¸€é”®éƒ¨ç½²ã€‚go-chatgpt-apié¡¹ç›®ä½œè€…å·²å¼ƒå‘ï¼ˆç›®å‰`GPT 3.5`è¿˜å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼‰ï¼Œå¤§å®¶æ­å»ºæ—¶å¯ä»¥ä¼˜å…ˆé€‰æ‹©éƒ¨ç½² ninja <br>
ğŸš€ **é‡è¦**ï¼šninjaé¡¹ç›®ï¼šç›®å‰GPT4éœ€è¦Arkose Tokenä½œä¸ºå‚æ•°å‘é€ï¼Œæ‰€ä»¥ä½ éœ€è¦ä¸€ä¸ªArkose Tokeç«¯ç‚¹æˆ–è€…å»å®˜æ–¹å‘é€ä¼šè¯æ¶ˆæ¯è·å–HARæ—¥å¿—è®°å½•æ–‡ä»¶ï¼Œninjaé¡¹ç›®å¯ä»¥ä½¿ç”¨å¯åŠ¨å‚æ•°`--arkose-token-endpoint`æŒ‡å®šç«¯ç‚¹è·å–token æˆ–è€…ä½¿ç”¨å‚æ•°`--arkose-chat-har-file`æŒ‡å®šHARæ–‡ä»¶è·¯å¾„ä½¿ç”¨ï¼›æˆ–è€…éƒ¨ç½²å®Œæˆä¹‹åé€šè¿‡WEBç•Œé¢ä¸Šä¼ æ›´æ–°HARï¼Œè¯·æ±‚è·¯å¾„:`/har/upload` <br>
ğŸ”” **ä¸‹è½½HARæ–‡ä»¶æ–¹æ³•**ï¼šç™»å…¥å®˜ç½‘ï¼Œæµè§ˆå™¨æ‰“å¼€ `F12` é€‰æ‹©ç½‘ç»œï¼Œç„¶åå‘é€ä¸€æ¬¡ä¼šè¯æ¶ˆæ¯ï¼Œä¸‹è½½ `https://tcr9i.chat.openai.com/fc/gt2/public_key/35536E1E-65B4-4D96-9D97-6ADB7EFF8147` æ¥å£çš„HARæ—¥å¿—è®°å½•æ–‡ä»¶ï¼ˆGPT3.5å’Œ4çš„æ–‡ä»¶åç§°ä¸ä¸€æ ·ï¼Œä½†æ˜¯æ ¼å¼ä¸€æ ·ï¼Œè¿™é‡Œåˆ—ä¸¾çš„æ˜¯GPT4ï¼‰<br>
> è¿‘æ—¥ï¼Œ`OpenAI`å–æ¶ˆå¯¹`GPT-3.5`è¿›è¡Œ`Arkose`éªŒè¯ï¼Œå¯ä»¥ä¸ä¸Šä¼ HARç‰¹å¾æ–‡ä»¶ä½¿ç”¨ï¼ˆå·²ä¸Šä¼ çš„ä¸å½±å“ï¼‰ï¼Œå…¼å®¹åç»­å¯èƒ½ä¼šå†æ¬¡å¼€å¯`Arkose`éªŒè¯ï¼Œéœ€è¦åŠ ä¸Šå¯åŠ¨å‚æ•°`--arkose-gpt3-experiment`è¿›è¡Œå¼€å¯`GPT-3.5`æ¨¡å‹`Arkose`éªŒè¯å¤„ç†(ä½¿ç”¨æ–¹æ³•ä¸GPT4ä¸€æ ·)ï¼ŒWebUIä¸å—å½±å“.

```shell
bash -c "$(curl -fsSL https://raw.githubusercontent.com/dqzboy/ChatGPT-Proxy/main/install/chatgpt-proxy.sh)"
```
<img src="https://github.com/dqzboy/ChatGPT-Proxy/assets/42825450/ab454813-85bd-4f23-ae7f-203baf9d15c2" width="1000px">

---

# ChatGPT-Porxyæ‰‹åŠ¨éƒ¨ç½²
## ä¸€ã€ç¯å¢ƒè¯´æ˜
- ä¸€å°VPSï¼Œè§„æ ¼æœ€ä½é… 1C1Gï¼›**æ³¨æ„**ï¼šwarpä¸æ”¯æŒarmæ¶æ„çš„æœºå™¨
- VPSå¯ä»¥æ­£å¸¸è®¿é—® [chatgpt](https://chat.openai.com)ï¼›æˆ–è€…å›½å†…æœåŠ¡å™¨å®ç°ç§‘å­¦ä¸Šç½‘ä¹Ÿå¯ä»¥
  - å‚è€ƒæ–‡ç« [å›½å†…æœåŠ¡å™¨å®ç°ç§‘å­¦ä¸Šç½‘](https://www.dqzboy.com/13754.html)
- éƒ¨ç½²dockerå’Œdocker-compose

> ç‰¹åˆ«è¯´æ˜ï¼šç›®å‰è¿™ä¸ªé¡¹ç›®ï¼Œç»è¿‡å¤šä¸ªç‰ˆæœ¬è¿­ä»£ä¹‹åæ¯”è¾ƒç¨³å®šï¼›ç›®å‰å¯ä»¥ä¸€ä¸ªæœåŠ¡å¤šäººå…±ç”¨

## äºŒã€éƒ¨ç½²docker
- è®¾ç½®ä¸€ä¸ªyumæºï¼Œä¸‹é¢ä¸¤ä¸ªéƒ½å¯ç”¨
```shell
# ä¸­å¤®ä»“åº“
yum-config-manager --add-repo http://download.docker.com/linux/centos/docker-ce.repo

# é˜¿é‡Œä»“åº“
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

# å®‰è£…docker
yum -y install docker-ce

# å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯
systemctl start docker
systemctl enable docker
systemctl status docker
```

## ä¸‰ã€éƒ¨ç½²docker-compose
```shell
ï¼ˆ1ï¼‰å®šä¹‰Docker-Composeç‰ˆæœ¬å˜é‡
export composeVer=v2.16.0

ï¼ˆ2ï¼‰ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ docker-compose åˆ° /usr/bin ç›®å½•ä¸‹
curl -L https://github.com/docker/compose/releases/download/${composeVer}/docker-compose-`uname -s`-`uname -m` -o /usr/bin/docker-compose

ï¼ˆ3ï¼‰ç»™ docker-compose æˆæƒ
chmod +x /usr/bin/docker-compose

ï¼ˆ4ï¼‰æ£€æŸ¥docker-composeå®‰è£…æƒ…å†µ
docker-compose -v
```

## å››ã€éƒ¨ç½²ChatGPTåä»£
### ChatGPTåä»£é¡¹ç›®ï¼š[gngpp/ninja](https://github.com/gngpp/ninja)
#### 1ã€åˆ›å»ºå·¥ä½œç›®å½•
```shell
mkdir -p /data/go-chatgpt-api && cd $_
```
#### 2ã€åˆ›å»ºéƒ¨ç½²æ¸…å•
> ç›®å‰GPT3.5å’ŒGPT-4 ç›¸å…³æ¨¡å‹ç›®å‰éœ€è¦éªŒè¯ arkose_tokenï¼Œè‡ªè¡Œæ­å»ºarkose_tokenç«¯ç‚¹å¯å‚è€ƒé¡¹ç›®ï¼š[xyhelper-arkose-v2](https://github.com/xyhelper/xyhelper-arkose-v2) <br>
> å…è´¹æœåŠ¡ï¼šhttps://chatarkose.xyhelper.cn/token
#### æœåŠ¡å™¨ç›´è¿æˆ–é€šè¿‡ä»£ç†å¯æ­£å¸¸è®¿é—®ChatGPT
- å¦‚æœä½ çš„VPS IPç¨³å®šï¼Œæˆ–è€…ä½ ä½¿ç”¨çš„ç§‘å­¦ä¸Šç½‘åœ°å€ç¨³å®šï¼Œé‚£å°±é¦–é€‰è¿™ç§æ–¹å¼
```shell
~]# vim docker-compose.yml

version: '3'
services:
  ninja:
    image: gngpp/ninja:latest    # ghcr.io/gngpp/ninja:latest
    #å›½å†…VPSæ— æ³•ä¸‹è½½é•œåƒçš„ä½¿ç”¨é•œåƒä»£ç†ï¼šghcr.dockerproxy.com/gngpp/ninja:latest
    container_name: ninja
    restart: unless-stopped
    environment:
      - TZ=Asia/Shanghai
      - PROXIES=                 # PROXIES=ï¼šå¯é…ç½®ç§‘å­¦ä¸Šç½‘ä»£ç†åœ°å€ï¼Œä¾‹å¦‚ï¼šhttp://clash_vpsIP:7890ï¼›æ³¨é‡Šæ‰æˆ–è€…ç•™ç©ºåˆ™ä¸å¯ç”¨
    command: run                 # --enable-directå¼€å¯æœ¬åœ°ç›´è¿(é»˜è®¤å…³é—­) --disable-webuiå…³é—­è‡ªå¸¦WEB  --arkose-gpt3-experimentå¼€å¯GPT-3.5æ¨¡å‹ArkoseéªŒè¯
    ports:
      - 8080:7999                # å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼›å®¿ä¸»æœºç›‘å¬ç«¯å£å¯æŒ‰éœ€æ”¹ä¸ºå…¶å®ƒç«¯å£
```

#### åŸºäºCloudflare WARPæ¨¡å¼
  - è§£å†³IPè¢«Banï¼Œæç¤ºAccess deniedä¹‹ç±»çš„æŠ¥é”™
  - å¦‚æœä½¿ç”¨æ­¤æ¨¡å¼è¿˜æ˜¯æç¤ºAccess deniedï¼Œå¤§æ¦‚ç‡æ˜¯ä½ æœºå™¨IPä¸å¹²å‡€æˆ–è€…ç”¨çš„å›½å†…æœåŠ¡å™¨å¯¼è‡´éªŒè¯ç è¿‡ä¸å»
  - Cloudflare WARPå®˜ç½‘æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/warp-client/get-started/linux
```shell
~]# vim docker-compose.yml

version: '3'
services:
  ninja:
    image: gngpp/ninja:latest    # ghcr.io/gngpp/ninja:latest
    #å›½å†…VPSæ— æ³•ä¸‹è½½é•œåƒçš„ä½¿ç”¨é•œåƒä»£ç†ï¼šghcr.dockerproxy.com/gngpp/ninja:latest
    container_name: ninja
    restart: unless-stopped
    environment:
      - TZ=Asia/Shanghai
      - PROXIES=socks5://warp:10000
    command: run                 # --enable-directå¼€å¯æœ¬åœ°ç›´è¿(é»˜è®¤å…³é—­) --disable-webuiå…³é—­è‡ªå¸¦WEB  --arkose-gpt3-experimentå¼€å¯GPT-3.5æ¨¡å‹ArkoseéªŒè¯
    ports:
      - 8080:7999                # å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼›å®¿ä¸»æœºç›‘å¬ç«¯å£å¯æŒ‰éœ€æ”¹ä¸ºå…¶å®ƒç«¯å£
    depends_on:
      - warp

  warp:
    container_name: warp
    image: ghcr.io/gngpp/warp:latest
    restart: unless-stopped

  watchtower:
    container_name: watchtower
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 3600 --cleanup
    restart: unless-stopped
```
---

### ChatGPTåä»£é¡¹ç›®ï¼š[linweiyuan/go-chatgpt-api](https://github.com/linweiyuan/go-chatgpt-api)
- ç›®å‰å·²ç»æ”¯æŒå¤šæ¬¡å¯¹è¯
#### 1ã€åˆ›å»ºå·¥ä½œç›®å½•
```shell
mkdir -p /data/go-chatgpt-api && cd $_
```
#### 2ã€åˆ›å»ºéƒ¨ç½²æ¸…å•
> ç›®å‰GPT3.5å’ŒGPT-4 ç›¸å…³æ¨¡å‹ç›®å‰éœ€è¦éªŒè¯ arkose_tokenï¼Œè‡ªè¡Œæ­å»ºarkose_tokenç«¯ç‚¹å¯å‚è€ƒé¡¹ç›®ï¼š[xyhelper-arkose-v2](https://github.com/xyhelper/xyhelper-arkose-v2) <br>
> å…è´¹æœåŠ¡ï¼šhttps://chatarkose.xyhelper.cn/token
#### æœåŠ¡å™¨ç›´è¿æˆ–é€šè¿‡ä»£ç†å¯æ­£å¸¸è®¿é—®ChatGPT
  - å¦‚æœä½ çš„VPS IPç¨³å®šï¼Œæˆ–è€…ä½ ä½¿ç”¨çš„ç§‘å­¦ä¸Šç½‘åœ°å€ç¨³å®šï¼Œé‚£å°±é¦–é€‰è¿™ç§æ–¹å¼
```shell
~]# vim docker-compose.yml

version: "3" 
services:
  go-chatgpt-api:
    container_name: go-chatgpt-api
    image: linweiyuan/go-chatgpt-api
    ports:
      - 8080:8080         # å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼›å®¿ä¸»æœºç›‘å¬ç«¯å£å¯æŒ‰éœ€æ”¹ä¸ºå…¶å®ƒç«¯å£
    #network_mode: host   # å¯é€‰ï¼Œå°†å®¹å™¨åŠ å…¥ä¸»æœºç½‘ç»œæ¨¡å¼ï¼Œå³ä¸ä¸»æœºå…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼›ä¸Šé¢çš„ç«¯å£æ˜ å°„å°†å¤±æ•ˆ
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      - TZ=Asia/Shanghai
      - PROXY=   # GO_CHATGPT_API_PROXY=ï¼šå¯é…ç½®ç§‘å­¦ä¸Šç½‘ä»£ç†åœ°å€ï¼Œä¾‹å¦‚ï¼šhttp://clash_vpsIP:7890ï¼›æ³¨é‡Šæ‰æˆ–è€…ç•™ç©ºåˆ™ä¸å¯ç”¨
      - ARKOSE_TOKEN_URL=
      - BX=
      - BX_URL=
      - OPENAI_EMAIL=
      - OPENAI_PASSWORD=
      - CONTINUE_SIGNAL=  # CONTINUE_SIGNAL=1ï¼Œå¼€å¯/imitateæ¥å£è‡ªåŠ¨ç»§ç»­ä¼šè¯åŠŸèƒ½ï¼Œç•™ç©ºå…³é—­ï¼Œé»˜è®¤å…³é—­
    restart: unless-stopped
```

#### åŸºäºCloudflare WARPæ¨¡å¼
  - è§£å†³IPè¢«Banï¼Œæç¤ºAccess deniedä¹‹ç±»çš„æŠ¥é”™
  - å¦‚æœä½¿ç”¨æ­¤æ¨¡å¼è¿˜æ˜¯æç¤ºAccess deniedï¼Œå¤§æ¦‚ç‡æ˜¯ä½ æœºå™¨IPä¸å¹²å‡€æˆ–è€…ç”¨çš„å›½å†…æœåŠ¡å™¨å¯¼è‡´éªŒè¯ç è¿‡ä¸å»
  - Cloudflare WARPå®˜ç½‘æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/warp-client/get-started/linux
```shell
~]# vim docker-compose.yml

version: "3"
services:
  go-chatgpt-api:
    container_name: go-chatgpt-api
    image: linweiyuan/go-chatgpt-api
    ports:
      - 8080:8080         # å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼›å®¿ä¸»æœºç›‘å¬ç«¯å£å¯æŒ‰éœ€æ”¹ä¸ºå…¶å®ƒç«¯å£
    #network_mode: host   # å¯é€‰ï¼Œå°†å®¹å™¨åŠ å…¥ä¸»æœºç½‘ç»œæ¨¡å¼ï¼Œå³ä¸ä¸»æœºå…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼›ä¸Šé¢çš„ç«¯å£æ˜ å°„å°†å¤±æ•ˆ
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      - TZ=Asia/Shanghai
      - PROXY=socks5://chatgpt-proxy-server-warp:65535
      - BX=
      - BX_URL=
      - OPENAI_EMAIL=
      - OPENAI_PASSWORD=
      - CONTINUE_SIGNAL=
    depends_on:
      - chatgpt-proxy-server-warp
    restart: unless-stopped

  chatgpt-proxy-server-warp:
    container_name: chatgpt-proxy-server-warp
    image: linweiyuan/chatgpt-proxy-server-warp
    environment:
      - LOG_LEVEL=OFF
    restart: unless-stopped
```

## äº”ã€è¿è¡Œå®¹å™¨æœåŠ¡
```shell
docker-compose up -d

# æ£€æŸ¥è¿è¡Œçš„å®¹å™¨ï¼›ç¡®ä¿å®¹å™¨çŠ¶æ€ä¸ºUP
docker ps

# æ£€æµ‹å®¹å™¨æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç›‘å¬ç«¯å£æ˜¯å¦ç›‘å¬
ss -tnlp|grep 8080
```

## å…­ã€æ£€æŸ¥æ˜¯å¦æ­£å¸¸
### ninjaå®¹å™¨è¿è¡Œæ—¥å¿—æŸ¥çœ‹
```shell
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ˜¯å¦è¿è¡Œæ­£å¸¸
docker logs -f ninja
```
<img src="https://github.com/dqzboy/ChatGPT-Proxy/assets/42825450/b1d2a0e4-233d-444e-9617-987d069deb76" width="1000px">

### go-chatgpt-apiéœ€è¦åˆå§‹åŒ–å¯åŠ¨éœ€è¦è€å¿ƒç­‰å¾…
```shell
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ˜¯å¦è¿è¡Œæ­£å¸¸
docker logs -f go-chatgpt-api
```

- å‡ºç°ä¸‹å›¾ä¸­ `Service go-chatgpt-api is ready.` åˆ™è¡¨ç¤ºæœåŠ¡å¯æ­£å¸¸ä½¿ç”¨äº†

<img src="https://github.com/dqzboy/ChatGPT-Proxy/assets/42825450/081886e0-72e8-44b5-954f-e122efcedfcb" width="1000px">

## ä¸ƒã€å®¹å™¨é•œåƒæ›´æ–°
```shell
# åœæ­¢
docker-compose down

# æ‹‰å–æ–°é•œåƒ
docker-compose pull

# å¯åŠ¨
docker-compose up -d
```

## å…«ã€é¡¹ç›®æ¥å…¥è‡ªå»ºåä»£
### ninjia
> æ¥å£ä½¿ç”¨, * è¡¨ç¤ºä»»æ„URLåç¼€
- backend-api, http(s)://host:port/backend-api/*
- public-api, http(s)://host:port/public-api/*
- platform-api, http(s)://host:port/dashboard/*
- chatgpt-to-api, http(s)://host:port/v1/chat/completions

> å…³äºå…³äºChatGPTè½¬APIä½¿ç”¨ï¼Œç›´æ¥æ‹¿AceessTokenå½“API Keyä½¿ç”¨ï¼Œæ¥å£è·¯å¾„ï¼š/v1/chat/completions

### go-chatgpt-api
- åŸæ¥å£ï¼š http://go-chatgpt-api:8080/chatgpt/conversation
- æ›´æ–°åï¼š http://go-chatgpt-api:8080/chatgpt/backend-api/conversation

#### é¡¹ç›®ï¼š[Chanzhaoyu/chatgpt-web](https://github.com/Chanzhaoyu/chatgpt-web) | [Kerwin1202/chatgpt-web](https://github.com/Kerwin1202/chatgpt-web)
##### **ChatGPTUnofficialProxyAPI(accessToken)**
- ç°åœ¨æˆ‘ä»¬å¯ä»¥æ‰¾ä¸€ä¸ªé¡¹ç›®ï¼Œä½¿ç”¨access tokenæ¨¡å¼ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬è‡ªå»ºçš„ä»£ç†åœ°å€è¿›è¡Œè®¿é—®ï¼›
  - è‡ªå»ºIPçš„è®¿é—®åœ°å€ä¸ºhttp://vps-ip:8080/chatgpt/backend-api/conversation
  - å¦‚æœå‰ç«¯é¡¹ç›®æ˜¯ç›´æ¥è·‘çš„å¹¶ä¸”ä¸åä»£æœåŠ¡åŒåœ¨ä¸€å°VPSä¸Šï¼Œåˆ™åä»£åœ°å€å¯å†™æˆï¼šhttp://127.0.0.1:8080/chatgpt/backend-api/conversation
  - å¦‚æœä½ å‰ç«¯é¡¹ç›®æ˜¯å®¹å™¨å¯çš„å¹¶ä¸”ä¸åä»£æœåŠ¡åŒåœ¨ä¸€å°VPSä¸Šï¼Œåˆ™åä»£åœ°å€å¯å†™æˆï¼šhttp://go-chatgpt-api:8080/chatgpt/backend-api/conversation

- access tokenè·å–ï¼šhttps://chat.openai.com/api/auth/session
```shell
# ninja-chatgpt-api
API_REVERSE_PROXY=http(s)://host:port/backend-api/conversation

# go-chatgpt-api
API_REVERSE_PROXY=http://127.0.0.1:8080/chatgpt/backend-api/conversation
```

- ç°åœ¨æˆ‘ä»¬è®¿é—®chatgpt-webï¼ŒæŸ¥çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨
<img src="https://user-images.githubusercontent.com/42825450/236637545-5b121bf1-79c4-4985-87cb-b64bd23ba453.gif" width="1000px">

- åŒæ ·æ—¥å¿—è¿”å›è¯·æ±‚ç»“æœæ­£å¸¸
<img src="https://user-images.githubusercontent.com/42825450/236637560-ae2baf1f-69ed-423e-b4d8-4700aedee3e4.png" width="1000px">

##### **ChatGPTAPI(APIKEY)**
- ä½¿ç”¨ChatGPTAPIæ¨¡å¼ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬è‡ªå»ºçš„ä»£ç†åœ°å€è¿›è¡Œè®¿é—®ï¼›
  - è‡ªå»ºIPçš„è®¿é—®åœ°å€ä¸ºhttp://vps-ip:8080/platform  
  - å¦‚æœå‰ç«¯é¡¹ç›®æ˜¯ç›´æ¥è·‘çš„å¹¶ä¸”ä¸åä»£æœåŠ¡åŒåœ¨ä¸€å°VPSä¸Šï¼Œåˆ™åä»£åœ°å€å¯å†™æˆï¼šhttp://127.0.0.1:8080/platform
  - å¦‚æœä½ å‰ç«¯é¡¹ç›®æ˜¯å®¹å™¨å¯çš„å¹¶ä¸”ä¸åä»£æœåŠ¡åŒåœ¨ä¸€å°VPSä¸Šï¼Œåˆ™åä»£åœ°å€å¯å†™æˆï¼šhttp://go-chatgpt-api:8080/platform
```shell
OPENAI_API_BASE_URL=http://127.0.0.1:8080/platform
```
<img src="https://github.com/dqzboy/ChatGPT-Proxy/assets/42825450/aa93dd61-ab4d-4e56-9677-d86d8287eab9" width="1000px">

#### é¡¹ç›®ï¼š[chatgpt-mirai-qq-bot](https://github.com/lss233/chatgpt-mirai-qq-bot)
```shell
## ninja-chatgpt-api
# ==== OpenAI éƒ¨åˆ†å¼€å§‹
[openai]
# OpenAI ç›¸å…³è®¾ç½®
# è‡ªå®šä¹‰ ChatGPT çš„ browserless æ¥å…¥ç‚¹
# è‡ª 3æœˆ9æ—¥ å¼€å§‹ï¼Œä¸è®¾ç½®æ­¤é¡¹å°†æ— æ³•æ­£å¸¸ä½¿ç”¨ browserless æ¨¡å¼ä¸‹çš„ç½‘é¡µç‰ˆ ChatGPT
browserless_endpoint = "http(s)://ä½ çš„æœåŠ¡åœ°å€æˆ–è€…IP/backend-api/"


## go-chatgpt-api
# ==== OpenAI éƒ¨åˆ†å¼€å§‹
[openai]
# OpenAI ç›¸å…³è®¾ç½®
# è‡ªå®šä¹‰ ChatGPT çš„ browserless æ¥å…¥ç‚¹
# è‡ª 3æœˆ9æ—¥ å¼€å§‹ï¼Œä¸è®¾ç½®æ­¤é¡¹å°†æ— æ³•æ­£å¸¸ä½¿ç”¨ browserless æ¨¡å¼ä¸‹çš„ç½‘é¡µç‰ˆ ChatGPT
browserless_endpoint = "http(s)://ä½ çš„æœåŠ¡åœ°å€æˆ–è€…IP/chatgpt/backend-api/"
```
#### é¡¹ç›®ï¼š[moeakwak/chatgpt-web-share](https://github.com/moeakwak/chatgpt-web-share)
```shell
CHATGPT_BASE_URL = "http(s)://ä½ çš„æœåŠ¡åœ°å€æˆ–è€…IP/chatgpt/backend-api/"
```
#### é¡¹ç›®ï¼š[Yidadaa/ChatGPT-Next-Web](https://github.com/Yidadaa/ChatGPT-Next-Web)
- æ¥å£ï¼šhttp://go-chatgpt-api:8080/imitate/v1/chat/completions  åˆ©ç”¨ accessToken æ¨¡æ‹Ÿ apiKeyï¼Œå®ç°ä¼ªå…è´¹ä½¿ç”¨ API ï¼Œä»è€Œæ”¯æŒä»…æ”¯æŒ apiKey è°ƒç”¨çš„ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯é¡¹ç›®
- **æ³¨æ„ï¼š** ä¸‹é¢çš„æ¥å£åœ°å€å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€è®¿é—®æ‰å¯ä»¥æ­£å¸¸è¢«Next-Webä½¿ç”¨
```shell
# go-chatgpt-api
http://IP:8080/imitate

# ninja
http://IP:8080
```
<img src="https://github.com/dqzboy/ChatGPT-Proxy/assets/42825450/d834ea2f-a56e-45bf-a540-57f88afbefcd" width="1000px">

## éƒ¨ç½²æ€»ç»“
> ç›®å‰ä½¿ç”¨å‘ç°ï¼Œåªè¦ç¡®ä¿èŠ‚ç‚¹ç¨³å®šæˆ–è€…å›½å†…æœåŠ¡å™¨é…ç½®çš„ä»£ç†åœ°å€ç¨³å®š(æ²¡æœ‰è¢«opeaiå°é”)ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚


 ## é—®é¢˜æ€»ç»“
 ### 1ã€ERRO[00xx] Access denied
 - é—®é¢˜æè¿°ï¼šæŒ‰ç…§æ­¥éª¤éƒ¨ç½²èµ·æ¥äº†ï¼Œä½†æ˜¯æŸ¥çœ‹go-chatgpt-apiæ—¥å¿—æç¤ºERRO[0015] Access denied
 - é—®é¢˜åŸå› ï¼šå¤§æ¦‚ç‡ä½ çš„VPS IPä¸å¹²å‡€æˆ–è€…ä½¿ç”¨çš„å›½å†…æœåŠ¡å™¨ï¼›å¦‚æœä½¿ç”¨çš„ä»£ç†ï¼Œé‚£ä¹ˆè¿›å…¥åˆ°å®¹å™¨æŸ¥çœ‹ä¸‹IPæ˜¯å•¥æˆ–è€…æ›´æ¢ä¸ªä»£ç†èŠ‚ç‚¹
 ```shell
docker exec chatgpt-proxy-server curl -x socks5://ä»£ç† ipinfo.io
 ```
 
 ### 2ã€Failed to handle captcha: timeout
 - é—®é¢˜åŸå› ï¼šè¿™ä¸ªé”™è¯¯å°±æ˜¯å¤„ç†ä¸äº†éªŒè¯ç 
 - è§£å†³æ–¹æ³•ï¼šé‡å¯ api æ¢å¤æ­£å¸¸ï¼›å…ˆ down å† upï¼Œä¸èƒ½ restart
 
 ### 3ã€pthread_create: Operation not permitted (1)
 - é—®é¢˜åŸå› ï¼šæ˜¯ç”±äº Docker å®¹å™¨çš„å®‰å…¨é™åˆ¶å¯¼è‡´çš„ï¼Œcontainerå†…çš„rootåªæ˜¯å¤–éƒ¨çš„ä¸€ä¸ªæ™®é€šç”¨æˆ·æƒé™ï¼Œæ‰€ä»¥ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜
 - é—®é¢˜è§£å†³ï¼š`docker-compose.yml` æ·»åŠ å‚æ•° `privileged: true`
 
 ### 4ã€ChatGPT error 404: {"errorMessage":"[object Object]"}
 - é—®é¢˜åŸå› ï¼šå¦‚æœä½ æ›´æ–°åˆ°äº†æ–°ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæ¥å£éœ€è¦è¿›è¡Œæ›´æ”¹
 - è§£å†³æ–¹æ³•ï¼š
 ```shell
 http://127.0.0.1:8080/chatgpt/backend-api/conversation
 ```
 
 ### 5ã€Connection refused
 - é—®é¢˜åŸå› ï¼šaccesstokenè¿‡æœŸæˆ–è€…è´¦å·è¢«å°ç¦
 - é—®é¢˜è§£å†³ï¼šé‡å¯è·å–æ–°çš„accesstokenï¼Œæˆ–è€…æ³¨å†Œæ–°è´¦å·

 ### 6ã€ChatGPTUnofficialProxyAPI.sendMessage: conversationId and parentMessageId must both be set or both be undefined
 - é—®é¢˜åŸå› ï¼šæœ‰å¯èƒ½ä½ æ˜¯apiå’ŒtokenåŒæ—¶ä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨åŒä¸€ä¸ªä¼šè¯
 - é—®é¢˜è§£å†³ï¼šåˆ‡æ¢æ–°çš„ä¼šè¯ï¼›æˆ–è€…æŠŠä¼šè¯æ¸…é™¤æ‰

 ### 7ã€ERRO[0000] Looks like you have bean blocked
 - é—®é¢˜åŸå› ï¼šå­—é¢æ„æ€ï¼Œä½ çš„VPSæˆ–è€…èŠ‚ç‚¹IPè¢«openaiå°é”äº†ï¼Œæ— æ³•è®¿é—®ï¼›pingé€šä¸ä»£è¡¨å°±å¯ä»¥æ­£å¸¸è®¿é—®
 - é—®é¢˜è§£å†³ï¼šï¼ˆ1ï¼‰æ›´æ¢IPï¼›ï¼ˆ2ï¼‰ä½¿ç”¨warp

 ### 8ã€ninjaï¼šcode: 500 Internal Server Error latency=0 ms
 - é—®é¢˜åŸå› ï¼šï¼ˆ1ï¼‰èŠ‚ç‚¹IPå®Œæˆè¢«openaiæ‹‰é»‘äº†ï¼›ï¼ˆ2ï¼‰ç”±äºç°åœ¨GPT3.5å’ŒGPT4éƒ½éœ€è¦éªŒè¯Arkose Token
 - é—®é¢˜è§£å†³ï¼šï¼ˆ1ï¼‰æ¢ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ï¼›ï¼ˆ2ï¼‰å»¶è¿Ÿ0msï¼Œé‚£å°±éœ€è¦é…ç½®Arkose Tokenç«¯ç‚¹æˆ–å…ˆä¸Šä¼ HARæ–‡ä»¶ä¹‹åï¼Œåœ¨è¿›è¡Œè®¿é—®chatgpt

 ### 9ã€OpenAI: {"detail":{"message":"Client challenge required","code":"challenge_required"}} (code: 418)ï¼Œç„¶åä»£ç†çŠ¶æ€ç 200ï¼Œè¯·æ±‚è€—æ—¶0 ms
 - é—®é¢˜åŸå› ï¼šä½¿ç”¨çš„æ˜¯AccessToeknï¼ŒèŠ‚ç‚¹IPé—®é¢˜ï¼Œå‡ºç äº†ï¼›è¿˜æœ‰å¯èƒ½æ˜¯AccessToeknè¿‡æœŸ
 - é—®é¢˜è§£å†³ï¼šæ¢ä¸€ä¸ªå¯ç”¨çš„IPï¼Œæˆ–è€…æ›´æ–°AccessToeknè¯•è¯•

## ChatGPT WEBé¡¹ç›®ä¸€é”®éƒ¨ç½²è„šæœ¬
[chatgpt-webä¸€é”®éƒ¨ç½²è„šæœ¬](https://github.com/dqzboy/chatgpt-web)
